<template name="emailTemplatesPage">
  <div class="panel panel-default">
    <div class="panel-body">
    <!-- {{#if emailTemplate}} -->
      <table class="table table-striped">
        <thead>
          <tr class="info">
            <th>{{i18n "mail.templates.method" "Method"}}</th>
            <th>{{i18n "mail.templates.templateName" "Template Name"}}</th>
            <th>{{i18n "mail.templates.type" "Type"}}</th>
            <th>{{i18n "mail.templates.language" "Language"}}</th>
            <th>{{i18n "mail.templates.enabled" "Enabled"}}</th>
            <th><i class="fa fa-plus pull-right add-shipping-method" title="{{i18n 'mail.templates.addTemplate' 'Add email template'}}" data-event-action="addShippingMethod"></i></th>
          </tr>
        </thead>
        <tbody>
        {{#each emailTemplate}}
          <tr class="edit-shipping-method" data-event-action="editEmailTemplate">
            <td>{{name}}</td>
            <td>{{title}}</td>
            <td>{{type}}</td>
            <td>{{language}}</td>
            <td>
              {{#if enabled}}
                <i class="fa fa-check text-success" title="Enabled"></i>
              {{else}}
                <i class="fa fa-ban text-danger" title="Disabled"></i>
              {{/if}}
            </td>
            <td class="text-right">
              <i class="fa fa-pencil" data-template-id="{{_id}}" title="{{i18n 'mail.templates.edit' 'Edit email template'}}" data-event-action="editEmailTemplate"></i>
              <i class="fa fa-files-o" data-template-id="{{_id}}" title="{{i18n 'mail.templates.duplicate' 'Duplicate email template'}}" data-event-action="duplicateEmailTemplate"></i>
              <i class="fa fa-trash" data-template-id="{{_id}}" title="{{i18n 'mail.templates.delete' 'Delete email template'}}" data-event-action="deleteEmailTemplate"></i>
            </td>
          </tr>
        {{/each}}
        </tbody>
      </table>
    </div>
  </div>

  <!-- {{else}}
    <div class="alert alert-info" data-i18n="shipping.noShippingMethods">No shipping methods are configured.</div>
    {{>addShippingProvider}}
  {{/each}} -->
</template>

<!-- {{> quickForm schema=Schemas.EmailTemplates id="email-template-edit-form2" }} -->
<!-- schema=emailTemplateSchema -->

<template name="emailTemplateSettings">
  {{#autoForm
    collection=Collections.Templates
    schema=Schemas.EmailTemplates
    id="email-template-edit-form"
    template="bootstrap3-inline"
    doc=this
    }}

    <div class="panel panel-default">
      <div class="panel-heading">Update {{name}} template</div>
      <div class="panel-body">
        <div class="col-md-12 form-group">
          {{>afQuickField name='subject'}}
          {{>afQuickField name='name'}}
          {{>afQuickField name='title'}}
          {{>afQuickField name='language'}}
          {{>afQuickField name='template' label='HTML'}}
          {{>afQuickField name='enabled'}}
          {{>afQuickField name='type'}}
          {{>afQuickField name='parser'}}
          {{>afQuickField name='_id'}}
        </div>
      </div>

      <div class="panel-footer">
        <div class="right">
          <button type="submit" class="btn btn-primary">Update</button>
        </div>
      </div>
    </div>

  {{/autoForm}}
</template>
